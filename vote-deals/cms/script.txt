
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-firestore.js"></script>
<script src="https://jumia-app-vision.web.app/featurebox/featurebox.js"></script>

<script>
var Begin=function(t){class s{constructor(t){this.json=t,this.NAME="Vote Deals",this.LS_KEY="voted-deals",this.TANDC="Vote Deals T & Cs",this.LOAD_DATA="load data",this.FROM_INTERVAL="interval",this.FROM_INITIALIZE="initialize",this.SUBMIT="submit",this.VOTE_CLASS="-vote-btn",this.UNVOTED="unvoted",this.VOTED="voted",this.redirect="https://www.jumia.com.ng/customer/account/login/?return=https%3A%2F%2Fwww.jumia.com.ng%2Fsp-vote%2F",this.ID="vote_deals",this.FOCUS="focus",this.BUILD="build",this.VOTES_AVAILABLE="votes available",this.RESET="reset",this.MS_INTV_BTW_FETCHES=.5,this.TAB_LISTENER="tab listener",this.FIRST_TAB="first tab",this.IN_SESSION="in session",this.AFTER_SESSION="after session",this.BTW_OR_B4_SESSION="between or before session",this.TIME_SLOTS_TO_DISPLAY=12,this.time_interval=null,this.minute_duration=parseInt(t.config.minute_duration_vote_deals),this.CURRENCY=t.config.currency,this.config=t.config,this.domain=t.domain,this.el=(t,s)=>s?s.querySelector(t):document.querySelector(t),this.all=(t,s)=>s?s.querySelectorAll(t):document.querySelectorAll(t),this.pad=t=>1==t.toString().length?"0"+t:t,this.endTime=t=>t+60*this.minute_duration*1e3,this.skuRow=t=>this.el('.-sku_row[data-time="'+t+'"]'),this.skuRows=()=>this.all(".-sku_row"),this.tab=t=>this.el('.-tab[data-time="'+t+'"]'),this.live=(t,s)=>t.forEach((t=>t.classList[s]("-live"))),this.skuID=t=>t.category+"_"+t.sku+"_"+t.time,this.capitalize=t=>t[0].toUpperCase()+t.slice(1),this.oosByTime=t=>t.map((t=>this.skuRow(t).classList.add("-oos"))),this.getData=(t,s)=>t.json_list.filter((t=>t[s.key]===s.name)),this.isItMyTime=(t,s)=>+new Date(t.time)===parseInt(s),this.isPast=t=>Date.now()>t&&Date.now()>this.endTime(t),this.isFuture=(t,s)=>-1===s.indexOf(t),this.digit=(t,s)=>0!==parseInt(t)?this.pad(t)+s:"",this.isATab=t=>t.classList.contains("-tab"),this.midnight=t=>t?new Date(t).setHours(0,0,0,0):(new Date).setHours(0,0,0,0),this.clone=t=>JSON.parse(JSON.stringify(t)),this.arrayList=t=>Array.from(Array(t).keys()),this.jsonFrLStorage=t=>JSON.parse(localStorage.getItem(t))||{},this.jsonToLStorage=(t,s)=>localStorage.setItem(t,JSON.stringify(s)),this.groupID=(t,s)=>this.id(t+"-"+this.fullDate(s).toLowerCase().split(" ").join("-"),"-")}times(t){var s=t.map((t=>+new Date(t.time)));return Array.from(new Set(s)).sort(((t,s)=>t-s))}group(t,s){return s.map((s=>{var e=t.filter((t=>this.isItMyTime(t,s)));return{time:s,skus:e}}))}assignBgColor(t){var s=this.all(".-sku",t),e=Array.from(s).map((t=>parseInt(t.getAttribute("data-votes")))),i=e.filter(((t,s,e)=>e.indexOf(t)!==s)),a=Math.min(...e),r=Math.max(...e);s.forEach((t=>this.assignColor({sku:t,min:a,max:r,duplicates:i})))}assignColor({sku:t,min:s,max:e,duplicates:i}){var a=t.querySelector(".-tags"),r=t.getAttribute("data-votes");parseInt(r)===e?a.setAttribute("data-color","green"):parseInt(r)===s?a.setAttribute("data-color","red"):a.setAttribute("data-color","orange"),-1!==i.indexOf(parseInt(r))&&a.setAttribute("data-color","orange")}pastAndFutureTimes(t){var s=t.filter(this.isPast),e=t.filter((t=>this.isFuture(t,s)));return{past:s,future:e}}additionalTimes(t){var s=t.future,e=t.past,i=this.addition(s,e);return s.length<this.TIME_SLOTS_TO_DISPLAY?i:[]}addition(t,s){for(var e=[],i=this.TIME_SLOTS_TO_DISPLAY-t.length;i>-1;i--){var a=s.length-1-i;e.push(s[a])}return e}timeUnits(t){var s=new Date(t);return{day:s.getDay(),month:s.getMonth(),date:s.getDate(),hr:s.getHours(),mn:s.getMinutes()}}twelveHrFormat(t,s){return 12===t?this.pad(t)+":"+this.pad(s)+"pm":t>12?this.pad(t-12)+":"+this.pad(s)+"pm":0===t?"12:"+this.pad(s)+"am":this.pad(t)+":"+this.pad(s)+"am"}dayDiff(t){var s=new Date(t).getDate();return(new Date).getDate()-s}sameMonth(t){return new Date(t).getMonth()===(new Date).getMonth()}date(t){var s=this.dayDiff(t);return 0===s&&this.sameMonth(t)?this.capitalize("today"):1===s&&this.sameMonth(t)?this.capitalize("yesterday"):-1===s&&this.sameMonth(t)?this.capitalize("tomorrow"):this.fullDate(t)}fullDate(t){var s=new Date(t),e=s.toLocaleDateString("en-US",{month:"short"});return s.toLocaleDateString("en-US",{weekday:"short"})+" "+e+" "+s.getDate()}toggleClass(t,s,e){t.forEach((t=>t.classList.remove(e))),s.classList.add(e)}price(t){const s=this.numFromStr(t);return this.CURRENCY+" "+parseInt(s).toLocaleString()}numFromStr(t){var s=t.match(/\d/g);return s?s.join(""):0}discount(t,s){isNaN(parseInt(t))&&(t=t.split(" ")[1],s=s.split(" ")[1]);var e=100*(parseInt(t)-parseInt(s))/parseInt(t);return isNaN(e)?"":"-"+Math.round(e)+"%"}replacePattern(t,s){var e=new RegExp(t,"g");return s.replace(e,"-")}id(t,s){var e=this.replacePattern("'",t),i=this.replacePattern("&",e),a=this.replacePattern("%",i),r=this.replacePattern(":",a);this.replacePattern(";",r);return r.toLowerCase().split(" ").join(s)}badge(t){var s=this.id(t.type,"_"),e=this.config[s+"_icon"],i="Generic"===t.type?"Limited Stock":t.type,a=e?`<img class="lazy-image" data-src="${e}" alt="sku_img"/>`:i;return e?`<div class="-tag -inlineblock -vamiddle -b-img -${this.id(t.type,"-")}">${a}</div>`:`<div class="-tag -inlineblock -vamiddle -${this.id(t.type,"-")}" style="background-color:${this.config[t.type]}">${a}</div>`}timeFormat(t){var s=this.timeUnits(t),e=this.twelveHrFormat(s.hr,s.mn);return this.date(t)+"'s "+e+" sale"}platform(){var t="ontouchstart"in window;return{banner:t?this.config[this.ID+"_mobile_banner"]:this.config[this.ID+"_desktop_banner"],live_link:t?this.config[this.ID+"_deeplink"]:this.domain.host+"/"+this.config.download_apps_page}}show(t){return this.image_observer=new feature_box.ImageObserver(t),this.image_observer=null,this}}class e extends s{constructor(t){super(t),this.tab_bounds={},this.tabs=this.el(".-all-tabs"),this.tabs_parent=this.el(".-tabs"),this.prev=this.el(".-control.-prev"),this.next=this.el(".-control.-next"),feature_box.subscribe(this.BUILD,this.build.bind(this)),this.tabs.addEventListener("click",this.tabListener.bind(this))}reset(){this.tab_bounds={},this.tabs.innerHTML=""}build(t){this.reset();var s=t.reordered_times;this.tabs.innerHTML=s.map(this.createTab.bind(this)).join(""),s.map(this.tabBounds.bind(this));var e=this.all(".-tab")[0];this.setTabProps(e,this.FIRST_TAB),this.show(this.tabs),!1===feature_box.is_mobile&&this.scrollListener()}scrollListener(){this.next.addEventListener("click",this.scrollToNext.bind(this)),this.prev.addEventListener("click",this.scrollToPrev.bind(this))}scrollToNext(){var t=this.tabs.scrollLeft+50,s=this.tabs.scrollLeft+300-t;this.tabs.scrollLeft=t+1*s}scrollToPrev(){var t=this.tabs.scrollLeft-50,s=this.tabs.scrollLeft-300-t;this.tabs.scrollLeft=t+1*s}tabListener(t){var s=t.target.parentElement;this.isATab(s)&&this.setTabProps(s,this.TAB_LISTENER)}setTabProps(t,s){this.toggleClass(this.all(".-tab"),t,"active"),s==this.TAB_LISTENER&&feature_box.emit(this.FOCUS,t.getAttribute("data-time"))}tabBounds(t,s){var e=this.el('.-tab[data-time="'+t+'"]');this.tab_bounds[t]=e.getBoundingClientRect()}createTab(t,s){var e=0===s?"-tab active -inlineblock -posrel -vamiddle":"-tab -inlineblock -posrel -vamiddle",i=this.timeUnits(t);return`<a href="#top" class="${e}" data-time="${t}"><span class="-posabs -preloader -loading"></span><span class="-time">${this.twelveHrFormat(i.hr,i.mn)}</span><span>${this.date(t)}</span></a>`}}class i extends s{constructor(t){super(t),this.initialize()}initialize(){this.row_bounds={},this.user={},this.loggedIn=!1,this.fslsVotes={},this.skus_el=this.el(".-skus"),this.loginCondition(),feature_box.subscribe(this.FOCUS,this.inFocus.bind(this)),feature_box.subscribe(this.BUILD,this.display.bind(this)),feature_box.subscribe(this.VOTES_AVAILABLE,this.updateUiWithVotes.bind(this)),this.skus_el.addEventListener("click",this.vote.bind(this))}vote(t){var s=t.target;if(s.classList.contains(this.VOTE_CLASS)){var e=s.parentElement.getAttribute("id"),i=this.fslsVotes[e];if(void 0===i){var a={};a[this.user.email]=Date.now(),this.fslsVotes[e]=a}else{var r=i[this.user.email];void 0===r||r===this.UNVOTED?this.fslsVotes[e][this.user.email]=Date.now():this.fslsVotes[e][this.user.email]=this.UNVOTED}this.updateVotes(),feature_box.emit(this.SUBMIT,this.fslsVotes),this.jsonToLStorage("voted-deals",this.fslsVotes)}}reset(){this.row_bounds={},this.skus_el.innerHTML=""}inFocus(t){var s=this.skuRows(),e=this.skuRow(t);this.toggleClass(s,e,"active")}decoupledSKUID(t){var s=t.split("_");return{category:s[0],sku:s[1],time:s[2]}}updateUiWithVotes(t){this.fslsVotes=t,this.updateVotes()}updateVotes(){Object.keys(this.fslsVotes).map((t=>{var s=this.fslsVotes[t],e=this.decoupledSKUID(t),i=this.el(`.-sku[data-time="${e.time}"][data-sku="${e.sku}"]`),a=i.parentElement,r=this.el(".-cta",i);this.updateVoteCount({section:a,skuEl:i,mapOfEmails:s}),this.updateImageAndCTA({section:a,skuEl:i,skuCTA:r,mapOfEmails:s})}))}updateVoteCount({section:t,skuEl:s,mapOfEmails:e}){var i=Object.keys(e).filter((t=>e[t]!==this.UNVOTED)).length;this.all(".-sku",t);this.el(".-count",s).textContent=this.voteTxt(i),s.setAttribute("data-votes",i),this.assignBgColor(t)}updateImageAndCTA({section:t,skuEl:s,skuCTA:e,mapOfEmails:i}){var a=i[this.user.email];a&&(a===this.UNVOTED?(t.classList.remove("-voted"),s.classList.remove("-sku-voted"),e.textContent="vote"):(t.classList.add("-voted"),s.classList.add("-sku-voted"),e.textContent="unvote"))}display(t){this.reset(),this.displaySKUs(t)}displaySKUs(t){this.skus_el.innerHTML=t.grouped_skus.map(this.rowHTML.bind(this)).join("");var s=this.all(".-sku_row")[0].getAttribute("data-time");this.inFocus(s),feature_box.emit(this.FOCUS,s),this.show(this.skus_el)}loginCondition(){if(/loaded|complete/.test(document.readyState)){clearInterval(this.everything_loaded);var t=store.customer.email;this.user={email:t},this.loggedIn=t.length>0}}login(t){t.add("-loggedin"),this.init(this.FROM_LOGIN)}rowHTML(t,s){var e=t.skus.map((t=>t.category)),i=(e=[...new Set(e)]).reduce(((s,e)=>(s[e]=t.skus.filter((t=>t.category===e)),s)),{}),a=this.createSections(i);return this.createRow(t,s,a)}createSections(t){return Object.keys(t).map((s=>this.sectionHTML(t[s],s))).join("")}voteTxt(t){return`${t} vote(s)`}sectionHTML(t,s){var e=t[0],i=`<div class="-section" data-group-id="${this.groupID(e.category,e.time)}"><div class="-title">${s}</div>`;return i+=t.map(this.singleHTML.bind(this)).join(""),i+="</div>"}voteHTML(t){return`<div class="-inlineblock -vamiddle -arrow"></div><div class="-inlineblock -vamiddle -count">${this.voteTxt(t)}</div>`}isLoggedIn(){return this.loggedIn}singleHTML(t){var s=this.price(t.old_price),e=this.price(t.new_price),i=this.discount(t.old_price,t.new_price),a=this.isLoggedIn()?`<div class="-cta -posabs ${this.VOTE_CLASS}">vote</div>`:`<a class="-redirect -posabs" href="${this.redirect}">log in</a>`;return`<div class="-sku -posrel" data-votes="0" id="${this.skuID(t)}" data-time="${t.time}" data-sku="${t.sku}" data-category="${t.category}"><a href="${t.pdp}" class="-img -posabs"><div class="-posabs -shadow"><span class="-posabs">voted</span></div><img class="lazy-image loaded" data-src="${t.image}" alt="sku_img"/><div class="-preloader -posabs"></div></a><div class="-details -posabs"><div class="-name">${t.name}</div><div class="-desc">${t.desc}</div><div class="-prices"><div class="-price -new">${e}</div><div class="-price -old">${s}</div></div><div class="-discount -price -posabs">${i}</div></div>${a}<div class="-tags -posabs" data-color="orange">${this.voteHTML(0)}</div></div>`}createRow(t,s,e){return`<div class="${0===s?"-sku_row -posrel active":"-sku_row -posrel"}" data-time="${t.time}">${e}</div>`}showVotes(t){var s=[];Object.keys(t).map((e=>{var i=this.extractData(t,e);return s.push(i.groupId),this.displayVotes(i),i}));document.querySelectorAll(".-section").forEach((t=>{t.querySelectorAll(".-sku");this.assignBgColor(t)}))}extractData(t,s){var e=s.split("_"),i=e[0],a=e[1],r=e[2],n=t[s],o=Object.keys(n).map((t=>n[t])).filter((t=>t!==this.UNVOTED));return{sku:a,time:r,category:i,votes:o.length,groupId:this.groupID(i,r)}}displayVotes(t){var s=t.votes,e=this.skuID(t),i=document.getElementById(e.toString());i.querySelector(".-count").textContent=s+" vote(s)",i.setAttribute("data-votes",s)}}class a extends s{constructor(t){super(t),this.time_el=this.el(".-countdown-row .-time"),this.sessionEnded=t=>t.t<=0||t.session_state===this.AFTER_SESSION,this.amIInSession=t=>Date.now()>=t&&Date.now()<this.endTime(t),this.amIPastSession=t=>Date.now()>this.endTime(t),feature_box.subscribe(this.FOCUS,this.inFocus.bind(this))}inFocus(t){var s=parseInt(t),e=this.endTime(s),i=this.sessionState(s);i===this.IN_SESSION&&this.liveActions(s);this.IN_SESSION;this.markSoldSKUs()}markSoldSKUs(){var t=Array.from(this.all(".-sku_row")).map((t=>parseInt(t.getAttribute("data-time")))),s=this.pastAndFutureTimes(t).past;this.oosByTime(s)}sessionState(t){var s="",e=this.amIInSession(t),i=this.amIPastSession(t);return s=e?this.IN_SESSION:"",""===(s=i?this.AFTER_SESSION:s)?this.BTW_OR_B4_SESSION:s}liveActions(t){var s=this.skuRow(t),e=this.tab(t);this.live([s,e],"add")}}class r extends s{constructor(t){super(t),this.comingTimes=()=>this.times().filter((t=>this.timeElapsedSinceMidnight()<t)),this.timeElapsedSinceMidnight=()=>new Date-new Date(this.midnight()),this.nextTime=()=>+new Date(this.midnight())+this.comingTimes()[0],this.initializeClock=t=>this.time_interval=setInterval((()=>this.toUpdateClock(t)),1e3),this.minuteToMillisecs=t=>60*t*1e3,this.clock_el=this.el("#clock"),this.reset()}reset(){this.minutes_in_a_day=1440,this.minutes_in_ms=6e4,clearInterval(this.time_interval);var t=this.nextTime();this.initializeClock(t)}toUpdateClock(t){var s=this.remainingTime(t);s.t<=0&&(this.reset(),feature_box.emit(this.LOAD_DATA,this.FROM_INTERVAL)),this.clock_el.innerHTML=`${("0"+s.minutes).slice(-2)}m : ${("0"+s.seconds).slice(-2)}s`}remainingTime(t){var s=+new Date(t)-+new Date,e=Math.floor(s/1e3%60),i=Math.floor(s/1e3/60%60),a=Math.floor(s/36e5%24);return{t:s,days:Math.floor(s/864e5),hours:a,minutes:i,seconds:e}}times(){var t=Math.round(this.minutes_in_a_day/this.MS_INTV_BTW_FETCHES);return this.arrayList(t).map((t=>{var s=t+1;return(this.MS_INTV_BTW_FETCHES*s-this.MS_INTV_BTW_FETCHES)*this.minutes_in_ms}))}}class n extends s{constructor(t){super(t),this.regExReplace=t=>t.replace(/\"|\,/g,""),this.clone=t=>JSON.parse(JSON.stringify(t)),this.initialize()}initialize(){this.configs_str=["projectId==jumia-d080c|messagingSenderId==877411630892|apiKey==AIzaSyCUP5ISID9Jh7-lm5R0k-HcOopqt8u-eyk|appId==1:877411630892:web:f7b7a9d6bbcfadb2","projectId==jumia-og|messagingSenderId==502706301371|apiKey==AIzaSyAT9KiJMaEGcMK1F87-eanWtE-z0_-Lw2s|appId==1:502706301371:web:79fea8a63ea2581c567c9e","projectId==jumia-bmtn2|messagingSenderId==875946805177|apiKey==AIzaSyAPvFJ9vtXynxudD9a-D7yhhEl-2rvEctA|appId==1:875946805177:web:a4adeca0b15e6b38","projectId==jumia-br|messagingSenderId==114843399424|apiKey==AIzaSyCg3xSlGNcHzxpHq05HPwN0IpRw5JnKc74|appId==1:114843399424:web:1a5b9cb9aa574f579cefe5","projectId==jumia-stor|messagingSenderId==659989278147|apiKey==AIzaSyB1N3LqxTcLPldBjKkQiiTJR8wy4f7IbJM|appId==1:659989278147:web:25d4693699d8aa0d","projectId==jumia-89cc5|messagingSenderId==650879520928|apiKey==AIzaSyCBK409LGgtZk-RI9VXDQrHe8_FGo9lFeo|appId==1:650879520928:web:a603d1d6a8904b5e","projectId==jumia-brnk|messagingSenderId==632015048847|apiKey==AIzaSyAfQc3JLSluNogTDwiHXy_pLJHmRd3Ufxw|appId==1:632015048847:web:34f74684ef297532"],this.configs=this.configs_str.map(this.strToJSON.bind(this)).map(this.configObj.bind(this)).map(this.firestore.bind(this)),feature_box.subscribe(this.LOAD_DATA,this.load.bind(this)),feature_box.subscribe(this.SUBMIT,this.submit.bind(this)),this.db_idx=0}submit(t){this.configs.map((s=>{this.save(s.firestore,t).then((t=>{})).catch((t=>{}))}))}dbIdx(t){return t===this.FROM_INTERVAL?(this.db_idx++,this.db_idx>=this.configs.length?0:this.db_idx):this.db_idx}load(t){var s=this.dbIdx(t),e=this.configs[s];this.get(e.firestore,this.ID).then(this.sendData.bind(this)).catch((t=>{var s=this.jsonFrLStorage("voted-deals");this.sendData(s)}))}sendData(t){feature_box.emit(this.VOTES_AVAILABLE,t)}configObj(t){var s=this.clone(t),e=t.projectId+".firebaseapp.com",i="https://"+t.projectId+".firebaseio.com",a=t.projectId+".appspot.com";return Object.assign(s,{authDomain:e,databaseURL:i,storageBucket:a})}firestore(t){var s=firebase.initializeApp(t,t.projectId);return Object.assign(t,{firestore:s.firestore()})}strToJSON(t){return this.regExReplace(t).split("|").reduce(this.reduceProp.bind(this),{})}reduceProp(t,s){var e=s.split("==");return t[e[0]]=e[1]?e[1].toLocaleString():e[1],t}save(t,s){return t.collection(this.ID).doc("data").set(s,{merge:!0})}get(t,s){return t.collection(s).doc("data").get().then((t=>t.exists?t.data():{})).catch((t=>{}))}}new class extends s{constructor(t){super(t),this.database=new n(t),this.time=new r(t),this.database.load(this.FROM_INITIALIZE),this.data=this.getData(t,{key:"initiative",name:this.NAME}),this.tandcs=this.getData(t,{key:"type",name:this.TANDC}),this.tandc_el=this.el(".-re.-rules"),this.hiw_cta=document.querySelector(".-how-it-works"),this.hiw_cta.addEventListener("click",this.toggleBanner.bind(this)),this.top_banner=document.querySelector(".-banner.-top"),this.tabs=new e(t),this.sku_rows=new i(t),this.state=new a(t),feature_box.subscribe(this.RESET,this.init.bind(this)),this.init("from start").setBanner().displayTAndCs()}init(t){var s=this.times(this.data),e=this.pastAndFutureTimes(s),i=this.additionalTimes(e).filter((t=>void 0!==t)),a=e.future.concat(i),r=this.group(this.data,a);return feature_box.emit(this.BUILD,{reordered_times:a,grouped_skus:r}),this}toggleBanner(){this.top_banner.classList.toggle("-show");var t=this.hiw_cta.querySelector(".-txt");t.textContent="How It Works (T&Cs)"===t.textContent?"Close":"How It Works (T&Cs)"}setBanner(){return this.el(".-banner.-top img.lazy-image").setAttribute("data-src",this.platform().banner),this}displayTAndCs(){return this.tandc_el.innerHTML=this.tandcs.map(this.tandcHTML.bind(this)).join(""),this}tandcHTML(t){return`<div class="-rule_element"><div class="-inlineblock -vatop -num">${t.sku}.</div><div class="-inlineblock -vatop -desc">${t.name}</div></div>`}}(t)},gsheet_id="16AmKgEy2tHWRHgt9wdAfQJvgsML_pu_Z9PTH-_LvSjY",fb_config={apiKey:"AIzaSyAA8dQEt-yZnDyY3Lra8lndRJ3LWNYVW0o",authDomain:"jumia-c15a3.firebaseapp.com",databaseURL:"https://jumia-c15a3.firebaseio.com",projectId:"jumia-c15a3",storageBucket:"jumia-c15a3.appspot.com",messagingSenderId:"295115190934",appId:"1:295115190934:web:de0b33b53a514c3c"},element_id="app",feature_box=Featurebox({id:gsheet_id,config:fb_config,element_id:element_id,name:"vote_deals"});feature_box.subscribe(feature_box.FETCHED_DATA,Begin);
</script>