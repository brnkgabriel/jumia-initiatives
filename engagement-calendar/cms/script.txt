<script>
class Tag{constructor(e){this.tag=e[0],this.attributes=e[1],this.styles=e[2],this.textContent=e[3],this.element=null}get(){return this.init().setAttributes().setStyle().setHTML().getElement()}init(){return this.element=document.createElement(this.tag),this}static create(e){return new Tag(e).get()}assignAttribute(e){Object.keys(e).forEach(t=>{var r=e[t];this.element.setAttribute(t,r)})}setAttributes(){return this.assignAttribute(this.attributes),this}setStyle(){return this.assignAttribute(this.styles),this}setHTML(){return this.element.innerHTML=this.textContent,this}getElement(){return this.element}static appendMany2One(e,t){e.forEach(e=>t.appendChild(e))}}class Calendar{constructor(){this.calendar=document.querySelector(".-calendar"),this.popup_day=document.querySelector(".-m-popup .-day"),this.popup_dat=document.querySelector(".-m-popup .-date"),this.popup_mnt=document.querySelector(".-m-popup .-month"),this.popup_itm=document.querySelector(".-m-popup .-items"),this.dy=["sun","mon","tue","wed","thu","fri","sat"],this.months=["january","february","march","april","may","june","july","august","september","october","november","december"],this.GMT="GMT+0100",this.today=new Date,this.initiatives={"black friday deals":{dates:["November 06 2020 00:00:00 GMT+0100","November 07 2020 00:00:00 GMT+0100","November 08 2020 00:00:00 GMT+0100","November 09 2020 00:00:00 GMT+0100","November 10 2020 00:00:00 GMT+0100","November 11 2020 00:00:00 GMT+0100","November 12 2020 00:00:00 GMT+0100","November 13 2020 00:00:00 GMT+0100","November 14 2020 00:00:00 GMT+0100","November 15 2020 00:00:00 GMT+0100","November 16 2020 00:00:00 GMT+0100","November 17 2020 00:00:00 GMT+0100","November 18 2020 00:00:00 GMT+0100","November 19 2020 00:00:00 GMT+0100","November 20 2020 00:00:00 GMT+0100","November 21 2020 00:00:00 GMT+0100","November 22 2020 00:00:00 GMT+0100","November 23 2020 00:00:00 GMT+0100","November 24 2020 00:00:00 GMT+0100","November 25 2020 00:00:00 GMT+0100","November 26 2020 00:00:00 GMT+0100","November 27 2020 00:00:00 GMT+0100","November 28 2020 00:00:00 GMT+0100","November 29 2020 00:00:00 GMT+0100","November 30 2020 00:00:00 GMT+0100","December 01 2020 00:00:00 GMT+0100","December 02 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-black-friday/"},"wheel of fortune":{dates:["November 09 2020 12:00:00 GMT+0100","November 16 2020 12:00:00 GMT+0100","November 23 2020 12:00:00 GMT+0100","November 30 2020 12:00:00 GMT+0100","November 12 2020 12:00:00 GMT+0100","November 19 2020 12:00:00 GMT+0100","November 26 2020 12:00:00 GMT+0100"],link:"https://www.jumia.com.ng/wheel-fortune/"},"â‚¦100 sale":{dates:["November 07 2020 12:00:00 GMT+0100","November 14 2020 12:00:00 GMT+0100","November 21 2020 12:00:00 GMT+0100","November 28 2020 12:00:00 GMT+0100"],link:"https://www.jumia.com.ng/sp-n100-sale-app/"},"treasure hunt":{dates:["November 06 2020 00:00:00 GMT+0100","November 06 2020 18:00:00 GMT+0100","November 13 2020 00:00:00 GMT+0100","November 13 2020 18:00:00 GMT+0100","November 20 2020 00:00:00 GMT+0100","November 20 2020 18:00:00 GMT+0100","November 27 2020 00:00:00 GMT+0100","November 27 2020 18:00:00 GMT+0100"],link:"https://www.jumia.com.ng/sp-treasure-hunt-app/"},"live flash sale":{dates:["November 11 2020 14:00:00 GMT+0100","November 18 2020 14:00:00 GMT+0100","November 25 2020 14:00:00 GMT+0100"],link:"https://www.jumia.com.ng/sp-live-giveaways-app/"},"daily flash sales":{dates:["November 06 2020 00:00:00 GMT+0100","November 06 2020 10:00:00 GMT+0100","November 06 2020 12:00:00 GMT+0100","November 06 2020 14:00:00 GMT+0100","November 06 2020 16:00:00 GMT+0100","November 06 2020 18:00:00 GMT+0100","November 09 2020 10:00:00 GMT+0100","November 09 2020 12:00:00 GMT+0100","November 09 2020 14:00:00 GMT+0100","November 09 2020 16:00:00 GMT+0100","November 10 2020 10:00:00 GMT+0100","November 10 2020 12:00:00 GMT+0100","November 10 2020 14:00:00 GMT+0100","November 10 2020 16:00:00 GMT+0100","November 11 2020 10:00:00 GMT+0100","November 11 2020 12:00:00 GMT+0100","November 11 2020 14:00:00 GMT+0100","November 11 2020 16:00:00 GMT+0100","November 12 2020 10:00:00 GMT+0100","November 12 2020 12:00:00 GMT+0100","November 12 2020 14:00:00 GMT+0100","November 12 2020 16:00:00 GMT+0100","November 13 2020 00:00:00 GMT+0100","November 13 2020 10:00:00 GMT+0100","November 13 2020 12:00:00 GMT+0100","November 13 2020 14:00:00 GMT+0100","November 13 2020 16:00:00 GMT+0100","November 13 2020 18:00:00 GMT+0100","November 16 2020 10:00:00 GMT+0100","November 16 2020 12:00:00 GMT+0100","November 16 2020 14:00:00 GMT+0100","November 16 2020 16:00:00 GMT+0100","November 17 2020 10:00:00 GMT+0100","November 17 2020 12:00:00 GMT+0100","November 17 2020 14:00:00 GMT+0100","November 17 2020 16:00:00 GMT+0100","November 18 2020 10:00:00 GMT+0100","November 18 2020 12:00:00 GMT+0100","November 18 2020 14:00:00 GMT+0100","November 18 2020 16:00:00 GMT+0100","November 19 2020 10:00:00 GMT+0100","November 19 2020 12:00:00 GMT+0100","November 19 2020 14:00:00 GMT+0100","November 19 2020 16:00:00 GMT+0100","November 20 2020 00:00:00 GMT+0100","November 20 2020 10:00:00 GMT+0100","November 20 2020 12:00:00 GMT+0100","November 20 2020 14:00:00 GMT+0100","November 20 2020 16:00:00 GMT+0100","November 20 2020 18:00:00 GMT+0100","November 23 2020 10:00:00 GMT+0100","November 23 2020 12:00:00 GMT+0100","November 23 2020 14:00:00 GMT+0100","November 23 2020 16:00:00 GMT+0100","November 24 2020 10:00:00 GMT+0100","November 24 2020 12:00:00 GMT+0100","November 24 2020 14:00:00 GMT+0100","November 24 2020 16:00:00 GMT+0100","November 25 2020 10:00:00 GMT+0100","November 25 2020 12:00:00 GMT+0100","November 25 2020 14:00:00 GMT+0100","November 25 2020 16:00:00 GMT+0100","November 26 2020 10:00:00 GMT+0100","November 26 2020 12:00:00 GMT+0100","November 26 2020 14:00:00 GMT+0100","November 26 2020 16:00:00 GMT+0100","November 27 2020 00:00:00 GMT+0100","November 27 2020 10:00:00 GMT+0100","November 27 2020 12:00:00 GMT+0100","November 27 2020 14:00:00 GMT+0100","November 27 2020 16:00:00 GMT+0100","November 27 2020 18:00:00 GMT+0100","November 30 2020 10:00:00 GMT+0100","November 30 2020 12:00:00 GMT+0100","November 30 2020 14:00:00 GMT+0100","November 30 2020 16:00:00 GMT+0100"],link:"https://www.jumia.com.ng/sp-flashsales-app/"},"prime flash sale":{dates:["November 06 2020 14:00:00 GMT+0100","November 09 2020 14:00:00 GMT+0100","November 10 2020 14:00:00 GMT+0100","November 11 2020 14:00:00 GMT+0100","November 12 2020 14:00:00 GMT+0100","November 13 2020 14:00:00 GMT+0100","November 16 2020 14:00:00 GMT+0100","November 17 2020 14:00:00 GMT+0100","November 18 2020 14:00:00 GMT+0100","November 19 2020 14:00:00 GMT+0100","November 20 2020 14:00:00 GMT+0100","November 23 2020 14:00:00 GMT+0100","November 24 2020 14:00:00 GMT+0100","November 25 2020 14:00:00 GMT+0100","November 26 2020 14:00:00 GMT+0100","November 27 2020 14:00:00 GMT+0100","November 30 2020 14:00:00 GMT+0100"],link:"https://www.jumia.com.ng/sp-flashsales-app/"},"shake & win":{dates:["November 01 2020 00:00:00 GMT+0100","November 02 2020 00:00:00 GMT+0100","November 03 2020 00:00:00 GMT+0100","November 04 2020 00:00:00 GMT+0100","November 05 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-shake-and-win/"},"stanbic cashback":{dates:["November 06 2020 00:00:00 GMT+0100","November 09 2020 00:00:00 GMT+0100","November 10 2020 00:00:00 GMT+0100","November 11 2020 00:00:00 GMT+0100","November 12 2020 00:00:00 GMT+0100","November 13 2020 00:00:00 GMT+0100","November 16 2020 00:00:00 GMT+0100","November 17 2020 00:00:00 GMT+0100","November 18 2020 00:00:00 GMT+0100","November 19 2020 00:00:00 GMT+0100","November 20 2020 00:00:00 GMT+0100","November 23 2020 00:00:00 GMT+0100","November 24 2020 00:00:00 GMT+0100","November 25 2020 00:00:00 GMT+0100","November 26 2020 00:00:00 GMT+0100","November 27 2020 00:00:00 GMT+0100","November 30 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-stanbic-offer/"},"samsung brand day":{dates:["November 09 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-samsung-store"},"unilever brand day":{dates:["November 10 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-unilever-store"},"oppo brand day":{dates:["November 21 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-oppo-store"},"michelin brand day":{dates:["November 14 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-michelin-store"},"intel brand day":{dates:["November 11 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-intel-store"},"reckitt benckiser brand day":{dates:["November 17 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-reckitt-benckiser-store"},"umidigi brand day":{dates:["November 18 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-umidigi-store"},"absolut brand day":{dates:["November 21 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-absolut-store"},"scanfrost brand day":{dates:["November 16 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-scanfrost-store"},"nexus brand day":{dates:["November 25 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-nexus-store"},"xiaomi brand day":{dates:["November 24 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-xiaomi-store"},"lloyd brand day":{dates:["November 28 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-lloyd-store"},"skyrun brand day":{dates:["December 01 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-skyrun-store/"},"DeFacto brand day":{dates:["November 23 2020 00:00:00 GMT+0100"],link:"https://www.jumia.com.ng/mlp-defacto-store"}},this.cols=null,this.days_in_wk=7,this.fridays=6,this.days={},this.init()}init(){return this.datesInMonth().build().listen().set(),this}listen(){return this.cols=document.querySelectorAll(".-calendar .-c-row:not(.-head) .-c-col"),this.cols.forEach((e,t)=>e.addEventListener("click",r=>this.update(r,e,t))),this}set(){var e=this.months[this.today.getMonth()],t=this.today.getDate(),r=e+" "+(t=1==t.toString().length?"0"+t:t)+" "+this.today.getFullYear()+" 00:00:00 GMT+0100",o={};this.cols.forEach((e,t)=>{var a=e.getAttribute("data-time");r==a&&(o.col=e,o.idx=t)}),console.log("colIdx",o),this.updPopup(o.col,o.idx)}build(){var e="";return Object.keys(this.days).map((t,r)=>{if(r%7==0){e=Tag.create(["div",{class:"-c-row"},"",""])}e.appendChild(this.column(t,r)),this.calendar.appendChild(e)}),this}column(e,t){var r=0,o="",a=new Date(e).getDay();5==a?(r=Math.round(t/(a+1)),o=this.today.getDate()==t+1?"-c-col -today":"-c-col -friday-"+r):o=this.today.getDate()==t+1?"-c-col -today":"-c-col";var m={col:["div",{class:o,"data-time":e},"",""],mon:["div",{class:"-month"},"",this.months[new Date(e).getMonth()].substr(0,3)],items:["div",{class:"-items"},"",""],base:["div",{class:"-base"},"",""],date:["div",{class:"-date"},"",t+1]},s=Tag.create(m.col),i=Tag.create(m.mon),n=Tag.create(m.items),b=this.getItems(this.findInitiatives(e)),v=Tag.create(m.base),M=Tag.create(m.date);return v.appendChild(M),Tag.appendMany2One(b,n),Tag.appendMany2One([i,n,v],s),s}AMPM(e){var t=new Date(e),r=t.getHours(),o=t.getMinutes();return this.twelveHrFormat(r,o)}pad(e){return("0"+e).slice(-2)}twelveHrFormat(e,t){return 12===e?this.pad(e)+"pm":e>12?this.pad(e-12)+"pm":0===e?"12am":this.pad(e)+"am"}getItems(e){var t=[];return e.map(e=>{var r={item:["a",{class:"-item",href:e.link},"",""],time:["div",{class:"-time -inlineblock -vamiddle"},"",""],icn:["span",{class:"-icn"},"",""],txt:["span",{class:"-txt"},"",this.AMPM(e.time)],engagement:["div",{class:"-engagement -inlineblock -vamiddle"},"",e.name]},o=Tag.create(r.item),a=Tag.create(r.time),m=Tag.create(r.icn),s=Tag.create(r.txt),i=Tag.create(r.engagement);Tag.appendMany2One([m,s],a),Tag.appendMany2One([a,i],o),t.push(o)}),t}findInitiatives(e){var t=[],r=new Date(e).getDate(),o=new Date(e).getMonth();return Object.keys(this.initiatives).map(e=>{for(var a=this.initiatives[e],m=0;m<a.dates.length;m++){var s=a.dates[m],i=new Date(s).getDate(),n=new Date(s).getMonth();r===i&&o===n&&t.push({link:a.link,time:s,name:e})}}),t.sort((e,t)=>+new Date(e.time)-+new Date(t.time)),t}datesInMonth(){for(var e=new Date("November 01 2020 01:00:00 GMT+0100"),t=e.getMonth()+1,r=new Date(e.getFullYear(),t,0).getDate(),o=1;o<=r;o++)this.days[this.format(e,o)]={};return this}format(e,t){return`${this.months[e.getMonth()]} ${t<10?"0"+t:t} ${e.getFullYear()} 00:00:00 ${this.GMT}`}update(e,t,r){this.updPopup(t,r).updPos(e)}updPopup(e,t){var r=e.querySelector(".-month").textContent,o=e.querySelector(".-date").textContent,a=e.getAttribute("data-time"),m=e.querySelectorAll(".-item"),s=t%this.days_in_wk,i=this.dy[s];this.popup_day.textContent=i,this.popup_dat.textContent=o,this.popup_mnt.textContent=r;var n=0;5==(i=new Date(a).getDay())&&(n=Math.round(t/(i+1)));var b="";return 5==i&&(b="-friday-"+n),this.today.getDate()==t+1&&(b="-today"),this.popup_mnt.className="-month "+b,this.popup_itm.innerHTML="",m.forEach(e=>{var t=e.getAttribute("href"),r=e.querySelector(".-txt").textContent,o=e.querySelector(".-engagement").textContent;this.popup_itm.innerHTML+=`<a class="-item" href="${t}"><div class="-time -inlineblock -vamiddle"><span class="-icn"></span><span class="-txt">${r}</span></div><div class="-engagement -inlineblock -vamiddle">${o}</div></a>`}),this}updPos(e){var t=e.clientX,r=e.clientY;return document.documentElement.setAttribute("style","--pos-x: "+t+"px;--pos-y:"+r+"px"),this}}new Calendar;
</script>